---

css: >-
  .low { border: solid red 8px }
  .good { border: solid green 8px }
  .high { border: solid purple 8px }

title: pressure settings

page:    
  body:
    - NumberAdjuster:
        data:
          value: 15
          incVal: 5
          tooLow: 10
          tooHigh: 35
          name: 'pressure A'
    - NumberAdjuster:
        data:
          value: 20
          incVal: 10
          tooLow: 10
          tooHigh: 50
          name: 'pressure B'
          
recipes:
  NumberAdjuster:
    data:
      incVal: 1
      value: 0
      name: ''
    functions:
      inc: s => s.data.value = s.data.incVal + s.data.value
      dec: >
        s => {
           s.data.value = s.data.value - s.data.incVal;
           if (s.data.value < 0) s.data.value = 0;
        }

    contents:
      - div:
          style: display: inline-block; padding: 1em;
          class: s => s.data.value <= s.data.tooLow ? 'low' : s.data.value >= s.data.tooHigh ? 'high' : 'good'
          contents:
            - button:
                textContent: '+'
                on_click: s => s.fun.inc()
            - button:
                textContent: '-'
                on_click: s => s.fun.dec()
            - span:
                style: margin: 0 5px
                textContent: s => s.data.name + ': ' + s.data.value
            - span:
                if: s => s.data.value <= s.data.tooLow
                textContent: too low
            - span:
                elseif: s => s.data.value >= s.data.tooHigh
                textContent: too high
            - span:
                else:
                textContent: good enough
